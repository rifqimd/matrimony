!function(){"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var l=n.getElementsByTagName("script");l.length&&(t=l[l.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t}();var t,n=e.p+"src/img/sticky-default.jpg";function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a={clientId:{type:"string",default:""},skin:{type:"string",default:"Default"},audio:{type:"string",default:""},poster:{type:"string",default:n},title:{type:"string",default:"Title"},controls:{type:"object",default:(t={restart:!1,rewind:!1,play:!0},l(t,"fast-forward",!1),l(t,"progress",!0),l(t,"current-time",!0),l(t,"duration",!1),l(t,"mute",!0),l(t,"volume",!0),l(t,"settings",!0),l(t,"download",!1),t)},bgColor:{type:"string",default:"#ffffff"},controlColor:{type:"string",default:"#4a5464"},hoverColor:{type:"string",default:"#1ABAFF"},stampColor:{type:"string",default:"#87ceeb"},seekTime:{type:"number",default:10},preload:{type:"string",default:"metadata"},repeat:{type:"boolean",default:!1},autoplay:{type:"boolean",default:!1},muted:{type:"boolean",default:!1},fusionDownload:{type:"boolean",default:!0},borderRadius:{type:"object",default:{number:5,unit:"px"}},width:{type:"object",default:{number:100,unit:"%"}}};function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var l,a,r=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(l=n.next()).done)&&(r.push(l.value),!t||r.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var i=wp.element,s=i.useState,c=i.Fragment,u=wp.components,p=u.Dropdown,m=u.ColorPicker,d=u.Button,y=(wp.i18n.__,function(e){var t=e.value,n=e.title,l=void 0===n?"":n,a=e.defaultColor,o=e.onChange,i=(e.className,e.disableAlpha),u=e.boxPosition,y=void 0===u?"top left":u,f=e.globalColors,b=void 0===f?[]:f,v=r(s(t),2),w=v[0],h=v[1];return wp.element.createElement(p,{position:y,renderToggle:function(e){var n=e.isOpen,r=e.onToggle;return wp.element.createElement("div",{style:{display:"flex"}},a&&a!=w&&wp.element.createElement(d,{icon:"image-rotate",className:"bColorReset",onClick:function(){o(a),h(a)}}),wp.element.createElement("div",{className:"BColorButtonContainer"},wp.element.createElement("button",{className:"BColorButton",title:l,onClick:r,"aria-expanded":n,style:t?{backgroundColor:t}:{backgroundColor:"transparent"}})))},renderContent:function(e){var n=e.isOpen;e.onToggle,e.onClose;return wp.element.createElement(c,null,wp.element.createElement(m,{color:t||"",onChangeComplete:function(e){o("rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")")),h(e.hex)},disableAlpha:i||!1}),b.length>0&&wp.element.createElement("div",{style:{display:"flex"},className:"globalColors"},b.map((function(e){return wp.element.createElement("div",{className:"BColorButtonContainer"},wp.element.createElement("button",{className:"BColorButton",onClick:function(){o(e.color),h(e)},"aria-expanded":n,style:t?{backgroundColor:e.color}:{backgroundColor:"transparent"}}))}))))}})}),f=function(e){var t=e.value,n=void 0===t?"%":t,l=e.units,a=void 0===l?["px","em","%"]:l,r=e.onChange;return wp.element.createElement("div",null,wp.element.createElement("ul",{className:"bButtonGroup"},a.map((function(e){return wp.element.createElement("button",{key:e,bisactive:n===e?"true":"false",onClick:function(){return r(e)}},e)}))))},b=(wp.element.useState,wp.components),v=b.PanelRow,w=b.RangeControl,h=b.__experimentalNumberControl,g=function(e){var t=e.label,n=e.enable,l=void 0===n?{}:n,a=e.value,r=e.onChange,o=e.units,i=void 0===o?["px","em","%"]:o,s=e.min,c=void 0===s?0:s,u=e.max,p=void 0===u?1e3:u,m=e.device,d=e.onChangeDevice,y=e.unit,b=void 0===y?"%":y,g=e.onChangeUnit,E=e.step,_=void 0===E?1:E,k=100;"px"===b?k=p:"%"===b?k=100:"em"===b&&(k=30);var C=l.eDevice,P=void 0===C||C,S=l.eUnit,O=void 0===S||S,j=l.eNumberControl,x=void 0===j||j;return wp.element.createElement("div",null,t&&wp.element.createElement(v,null,wp.element.createElement("label",{className:"label"},t),P&&wp.element.createElement(BDevice,{style:{marginRight:"auto"},device:m,onChange:function(e){return d(e)}}),O&&wp.element.createElement(f,{units:i,value:b,onChange:function(e){return g(e)}})),wp.element.createElement(v,null,wp.element.createElement("div",{style:x?{minWidth:"140px",marginRight:"15px"}:""},wp.element.createElement(w,{withInputField:!1,value:a,min:c,step:_,max:k,onChange:function(e){r(e)}})),x&&wp.element.createElement(h,{step:_,isShiftStepEnabled:!0,onChange:function(e){r(parseInt(e))},shiftStep:10,value:a,max:k,min:c})))};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=wp.i18n.__,P=wp.element.Fragment,S=wp.components,O=S.TabPanel,j=S.Panel,x=S.PanelBody,A=S.PanelRow,T=S.Button,N=S.__experimentalNumberControl,D=S.TextControl,I=S.FormToggle,M=S.RadioControl,U=wp.blockEditor,B=U.InspectorControls,F=U.MediaUpload,R=U.MediaUploadCheck,W=function(e){var t=e.props,n=t.attributes,l=t.setAttributes,a=n.autoplay,r=n.audio,o=n.borderRadius,i=n.controls,s=n.bgColor,c=n.controlColor,u=n.fusionDownload,p=n.hoverColor,m=n.muted,d=n.skin,b=n.seekTime,v=n.stampColor,w=n.width,h=n.repeat,E=n.preload,k=n.poster,S=n.title,U=[{label:"Restart",control:"restart"},{label:"Play",control:"play"},{label:"Rewind",control:"rewind"},{label:"Fast Forward",control:"fast-forward"},{label:"Progress",control:"progress"},{label:"Current Time",control:"current-time"},{label:"Duration",control:"duration"},{label:"Mute",control:"mute"},{label:"Settings",control:"settings"},{label:"Download",control:"download"}];return wp.element.createElement(P,null,wp.element.createElement(B,{style:{marginBottom:"40px"}},wp.element.createElement(O,{className:"bPSS",activeClass:"active-tab",tabs:[{name:"settings",title:"Settings",className:"general btTab"},{name:"controls",title:"Controls",className:"slider btTab"},{name:"style",title:"Style",className:"style btTab"}]},(function(e){return wp.element.createElement("span",null,"settings"==e.name&&wp.element.createElement("span",null,wp.element.createElement(j,null,wp.element.createElement(x,null,wp.element.createElement(A,{className:"skin"},wp.element.createElement("label",{className:"label"},C("Skin","h5ap")),wp.element.createElement(f,{units:["Default","Fusion","Stamp"],value:d,onChange:function(e){return l({skin:e})}})),wp.element.createElement(A,null,wp.element.createElement("label",{className:"label"},C("Upload Audio File","h5ap")),wp.element.createElement(R,null,wp.element.createElement(F,{className:"",allowedTypes:["audio/mpeg"],onSelect:function(e){return l({audio:e.url})},render:function(e){var t=e.open;return wp.element.createElement(T,{className:"button button-primary",onClick:t},C("Upload","h5ap"))}}))),wp.element.createElement(A,null,wp.element.createElement(D,{style:{minWidth:230},value:r,onChange:function(e){return l({audio:e})}})),"Fusion"===d&&wp.element.createElement(P,null,wp.element.createElement(A,null,wp.element.createElement("label",{className:"label"},C("Upload Audio Poster","h5ap")),wp.element.createElement(R,null,wp.element.createElement(F,{className:"",allowedTypes:["image/jpeg"],onSelect:function(e){return l({poster:e.url})},render:function(e){var t=e.open;return wp.element.createElement(T,{className:"button button-primary",onClick:t},C("Upload","h5ap"))}}))),wp.element.createElement(A,null,wp.element.createElement(D,{style:{minWidth:230},value:k,onChange:function(e){return l({poster:e})}}))),"Default"!==d&&wp.element.createElement(P,null,wp.element.createElement(A,null,wp.element.createElement("label",{className:"label"},C("Title","h5ap"))),wp.element.createElement(A,null,wp.element.createElement(D,{placeholder:C("Title","h5ap"),style:{minWidth:230},value:S,onChange:function(e){return l({title:e})}}))),"Fusion"===d&&wp.element.createElement(A,null,wp.element.createElement("label",{className:"label"},C("Download","h5ap")),wp.element.createElement(I,{checked:u,onChange:function(){return l({fusionDownload:!u})}})),wp.element.createElement(A,null,wp.element.createElement("label",{className:"label"},C("Repeat","h5ap")),wp.element.createElement(I,{checked:h,onChange:function(){return l({repeat:!h})}})),wp.element.createElement(A,null,wp.element.createElement("label",{className:"label"},C("Autoplay","h5ap")),wp.element.createElement(I,{checked:a,onChange:function(){return l({autoplay:!a})}})),wp.element.createElement(A,null,wp.element.createElement("label",{className:"label"},C("Muted","h5ap")),wp.element.createElement(I,{checked:m,onChange:function(){return l({muted:!m})}})),wp.element.createElement(A,null,wp.element.createElement("label",{className:"label"},C("Seek Time","h5ap")),wp.element.createElement(N,{isShiftStepEnabled:!0,onChange:function(e){return l({seekTime:parseInt(e)})},shiftStep:1,value:b})),wp.element.createElement(A,null,wp.element.createElement("label",{className:"label"},C("Preload","h5ap"))),wp.element.createElement(A,null,wp.element.createElement(M,{className:"display-flex",selected:E,options:[{label:"Auto ",value:"auto"},{label:"Metadata ",value:"metadata"},{label:"None ",value:"none"}],onChange:function(e){l({preload:e})}}))))),"controls"==e.name&&wp.element.createElement(P,null,wp.element.createElement(j,null,wp.element.createElement(x,null,"Default"===d?U.map((function(e){var t=e.label,n=e.control;return wp.element.createElement(A,null,wp.element.createElement("label",{className:"label"},C(t,"h5ap")),wp.element.createElement(I,{checked:i[n],onChange:function(){!function(e,t){var n=_({},i);n[e]=t,l({controls:n})}(n,!i[n])}}))})):C("Controls are available only Default skin","h5ap")))),"style"==e.name&&wp.element.createElement("span",null,wp.element.createElement(j,null,wp.element.createElement(x,null,"Default"===d&&wp.element.createElement(P,null,wp.element.createElement(A,null,wp.element.createElement("label",{className:"label"},C("Background Color","h5ap")),wp.element.createElement(y,{defaultColor:"#ffffff",value:s,onChange:function(e){return l({bgColor:e})}})),wp.element.createElement(A,null,wp.element.createElement("label",{className:"label"},C("Controls Color","h5ap")),wp.element.createElement(y,{defaultColor:"#4a5464",value:c,onChange:function(e){return l({controlColor:e})}})),wp.element.createElement(A,null,wp.element.createElement("label",{className:"label"},C("Controls Hover Color","h5ap")),wp.element.createElement(y,{defaultColor:"#1ABAFF",value:p,onChange:function(e){return l({hoverColor:e})}}))),"Stamp"===d&&wp.element.createElement(A,null,wp.element.createElement("label",{className:"label"},C("Text/Control color","h5ap")),wp.element.createElement(y,{defaultColor:"#87ceeb",value:v,onChange:function(e){return l({stampColor:e})}})),wp.element.createElement(A,null),wp.element.createElement(g,{enable:{eDevice:!1},label:C("Width","h5ap"),value:w.number,unit:w.unit,onChange:function(e){return l({width:_(_({},w),{},{number:e})})},onChangeUnit:function(e){return l({width:{number:0,unit:e}})}}),wp.element.createElement(g,{enable:{eDevice:!1},label:C("Border Radius","h5ap"),value:o.number,unit:o.unit,onChange:function(e){return l({borderRadius:_(_({},o),{},{number:e})})},onChangeUnit:function(e){return l({borderRadius:{number:0,unit:e}})},max:50})))))}))))};function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}var H=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,l;return t=e,(n=[{key:"audioPlayer",value:function(e,t){var n=this,l=jQuery,a={repeat:!0};t.i18n={},"undefined"!=typeof h5ap_i18n&&"object"===("undefined"==typeof h5ap_i18n?"undefined":L(h5ap_i18n))&&(t.i18n=h5ap_i18n);var r=t.controls,o=t.seekTime,i=t.i18n,s=t.title,c=t.poster,u=t.source,p=t.skin,m=t.disableDownload,d=t.fusionDownload,y=t.color,f=t.repeat;"default"===p&&!1===m&&(a.download=!0),"fusion"===p&&!0===d&&(a.download=!0),"fusion"===t.skin&&(r=this.skinFusion(c,s,u,a)),"stamp"===t.skin&&(r=this.skinStamp()),l(".skin_default .plyr__control").on("focus",(function(){var e=this;setTimeout((function(){e.blur()}),1e3)}));var b=new Plyr(l(e).find("audio"),{controls:r,i18n:i,seekTime:o});return"stamp"===t.skin&&""!=y&&(l(e).find(".StampAudioPlayerSkin button svg").css("fill",y),l(e).find(".StampAudioPlayerSkin .extraOptions .audioTitle").css("color",y),l(e).find(".StampAudioPlayerSkin .mainOptions .controls .audioProgressView .progressWrap .currentTime").css("color",y),l(e).find(".StampAudioPlayerSkin .mainOptions .controls .audioProgressView .progressWrap .totalTime").css("color",y),l(e).find(".StampAudioPlayerSkin .mainOptions .controls .playPauseAudio").css("border-color",y),l(e).find(".audioTitle").text(s)),l(e).width()<500&&"fusion"===p&&l(e).addClass("skinFusionMobile"),l(e).find('.plyr__control[data-plyr="play"]').on("click",(function(){b.playing&&n.disableOtherPlayer(b,!0)})),l(e).find('[data-plyr="repeat"]').on("click",(function(){l(this).attr("data-active","true"===l(this).attr("data-active")?"false":"true")})),!0===f&&l(e).find('[data-plyr="repeat"]').attr("data-active","true"),b.on("ended",(function(){"true"===l(e).find('[data-plyr="repeat"]').attr("data-active")&&b.play()})),l(e).find('[data-plyr="playlist"]').on("click",(function(){l(this).attr("data-active","true"===l(this).attr("data-active")?"false":"true")})),b}},{key:"quickPlayer",value:function(e){var t=this,n=jQuery,l=n(e).data("options");l.i18n={},"undefined"!=typeof h5ap_i18n&&(l.i18n=h5ap_i18n);var a=l.seekTime,r=l.controls,o=l.i18n,i=new Plyr(n(e).find("audio"),{controls:r,i18n:o,seekTime:a});n(e).find('.plyr__control[data-plyr="play"]').on("click",(function(){i.playing&&t.disableOtherPlayer(i,!0)}))}},{key:"stickyPlayer",value:function(e){var t=this,n=jQuery,l=n(e).find(".icon-no-alt"),a=n(e).find(".icon-minus"),r=n(e).find(".icon-plus"),o=n(e).data("poster"),i=n(e).data("source"),s=n(e).data("title"),c=n(e).data("options"),u=c.initialVolume,p=c.skin,m=c.background,d={};!0===(null==c?void 0:c.stickyDownload)&&(d.download=!0),!0===(null==c?void 0:c.repeat)&&(d.repeat=!0),n(window).on("scroll",(function(){window.pageYOffset>300&&n(e).fadeIn()}));var y=this.skinFusion(o,s,i,d);"simple"===p&&(y=this.skinSimple(s,o,m));var f=new Plyr(n(e).find("audio"),{controls:y});n(e).find('.plyr__control[data-plyr="play"]').on("click",(function(){f.playing&&t.disableOtherPlayer(f,!0)})),l.on("click",(function(){n(e).fadeOut(),n(e).remove(),f.stop()})),a.on("click",(function(){n(e).addClass("minimized"),n(e).removeClass("maximized")})),r.on("click",(function(){n(e).addClass("maximized"),n(e).removeClass("minimized")})),f.volume=u/100,n(e).find('[data-plyr="repeat"]').on("click",(function(){n(this).attr("data-active","true"===n(this).attr("data-active")?"false":"true")})),!0===(null==c?void 0:c.repeat)&&n(e).find('[data-plyr="repeat"]').attr("data-active","true"),f.on("ended",(function(){"true"===n(e).find('[data-plyr="repeat"]').attr("data-active")&&f.play()}))}},{key:"disableOtherPlayer",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=jQuery,l=n("audio");l.each((function(){n(this)[0].pause()})),t?null==e||e.play():null==e||e.pause()}},{key:"skinFusion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{download:!1},a=!0===(null==l?void 0:l.download)?'<a class="plyr__controls__item plyr__control plyr__download" href="'.concat(n,'" target="_blank" download="" data-plyr="download">\n          <svg aria-hidden="true" focusable="false">\n            <use xlink:href="#plyr-download"></use>\n          </svg>\n          <span class="plyr__sr-only">Download</span>\n        </a>'):"",r=!0===(null==l?void 0:l.repeat)?'<button type="button" data-active="false" class="plyr__control" data-plyr="repeat"><span class="dashicons dashicons-controls-repeat" active="false"></span></button>':"",o=!0===(null==l?void 0:l.playlist)?'<button type="button" class="plyr__control" data-active="true" data-plyr="playlist"><span class="dashicons dashicons-playlist-audio"></span></button>':"";return'<div class="plyr__controls">\n    <div class="plyr__controls rewind_play_fastforward">\n    <img class="thumbnails" src="'.concat(e,'" alt="">\n    <div class="plyr__controls">\n    <button type="button" class="plyr__control" data-plyr="rewind">\n      <svg role="presentation"><use xlink:href="#plyr-rewind"></use></svg>\n      <span class="plyr__tooltip" role="tooltip">Rewind {seektime} secs</span>\n    </button>\n    <button type="button" class="plyr__control" aria-label="Play, {title}" data-plyr="play">\n      <svg class="icon--pressed" role="presentation"><use xlink:href="#plyr-pause"></use></svg>\n      <svg class="icon--not-pressed" role="presentation"><use xlink:href="#plyr-play"></use></svg>\n      <span class="label--pressed plyr__tooltip" role="tooltip">Pause</span>\n      <span class="label--not-pressed plyr__tooltip" role="tooltip">Play</span>\n    </button>\n    <button type="button" class="plyr__control" data-plyr="fast-forward">\n      <svg role="presentation"><use xlink:href="#plyr-fast-forward"></use></svg>\n      <span class="plyr__tooltip" role="tooltip">Forward {seektime} secs</span>\n    </button>\n    </div>\n    </div>\n    <div class="infos">\n      <div class="title">\n        <h3>').concat(t,'</h3>\n    </div>\n        <div class="time_progress">\n        <div class="plyr__time plyr__time--current" aria-label="Current time">00:00</div>\n        <div class="plyr__progress">\n          <input data-plyr="seek" type="range" min="0" max="100" step="0.01" value="0" aria-label="Seek">\n          <progress class="plyr__progress__buffer" min="0" max="100" value="0">% buffered</progress>\n          <span role="tooltip" class="plyr__tooltip">00:00</span>\n        </div>\n        <div class="plyr__time plyr__time--duration" aria-label="Duration">00:00</div>\n        </div>\n      </div>\n    <div class="other_controls">\n      <div class="extra_controls">\n        ').concat(a,"\n        ").concat(r,"\n        ").concat(o,'\n      </div>\n      <div class="volume_controls">\n      <button type="button" class="plyr__control" aria-label="Mute" data-plyr="mute">\n          <svg class="icon--pressed" role="presentation"><use xlink:href="#plyr-muted"></use></svg>\n          <svg class="icon--not-pressed" role="presentation"><use xlink:href="#plyr-volume"></use></svg>\n          <span class="label--pressed plyr__tooltip" role="tooltip">Unmute</span>\n          <span class="label--not-pressed plyr__tooltip" role="tooltip">Mute</span>\n      </button>\n      <div class="plyr__volume">\n          <input data-plyr="volume" type="range" min="0" max="1" step="0.05" value="1" autocomplete="off" aria-label="Volume">\n      </div>\n      </div>\n    </div>\n  </div>')}},{key:"skinStamp",value:function(e,t){return'<div class="StampAudioPlayerSkin">\n     <button type="button" class="muteUnmute plyr__control" data-plyr="mute"><svg class="icon--pressed" aria-hidden="true" focusable="false"><use xlink:href="#plyr-muted"></use></svg><svg class="icon--not-pressed" aria-hidden="true" focusable="false"><use xlink:href="#plyr-volume"></use></svg></button>\n     <div class="extraOptions">\n     <h3 class="audioTitle">Audio Title</h3>\n\n     <div class="audioSound">\n     <input data-plyr="volume" type="range" name="sound" id="audioRange" value=".5" min="0" max="1" step="0.001" />\n      </div>\n      </div>\n\n     <div class="mainOptions">\n     <button class="leftAudio  plyr__controls__item plyr__control" data-plyr="rewind"><svg aria-hidden="true" focusable="false"><use xlink:href="#plyr-rewind"></use></svg></button>\n\n     <div class="controls">\n     <div class="play_forward_rewind">\n      <button class="playPauseAudio  plyr__controls__item plyr__control" data-plyr="rewind"><svg aria-hidden="true" focusable="false"><use xlink:href="#plyr-rewind"></use></svg></button>\n      <button class="plyr__controls__item plyr__control playPauseAudio" type="button" data-plyr="play" aria-label="Play"><svg class="icon--pressed" aria-hidden="true" focusable="false"><use xlink:href="#plyr-pause"></use></svg><svg class="icon--not-pressed" aria-hidden="true" focusable="false"><use xlink:href="#plyr-play"></use></svg></button>\n     </div>\n\n     <div class="audioProgressView">\n      <div class="progressWrap">\n      <span class="currentTime plyr__time--current">00:00</span>\n      <div class="plyr__controls__item plyr__progress__container"><div class="plyr__progress"><input data-plyr="seek" type="range" min="0" max="100" step="0.01" value="0" autocomplete="off" role="slider" aria-label="Seek" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" id="plyr-seek-7930" aria-valuetext="00:00 of 03:05" seek-value="14.901800327332243" style="--value:0%;"><progress class="plyr__progress__buffer" min="0" max="100" value="0" role="progressbar" aria-hidden="true">% buffered</progress><span class="plyr__tooltip" style="left: 11.2357%;">00:20</span></div></div>\n      <span class="totalTime plyr__time--duration">00:00</span>\n        </div>\n        </div>\n      </div>\n\n     <button class="rightAudio plyr__controls__item plyr__control" data-plyr="fast-forward"><svg aria-hidden="true" focusable="false"><use xlink:href="#plyr-fast-forward"></use></svg></button>\n      </div>\n      </div>'}},{key:"skinSimple",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l="";return t&&(l="<img src='".concat(t,"' />")),'<div class="skin_simple_sticky" style="background:'.concat(n,'">\n      <div class="play">\n        <button type="button" class="plyr__control" aria-label="Play" data-plyr="play">\n          <svg class="icon--pressed" role="presentation"><use xlink:href="#plyr-pause"></use></svg>\n          <svg class="icon--not-pressed" role="presentation"><use xlink:href="#plyr-play"></use></svg>\n          <span class="label--pressed plyr__tooltip" role="tooltip">Pause</span>\n          <span class="label--not-pressed plyr__tooltip" role="tooltip">Play</span>\n        </button>\n      </div>\n      <div class="title" title="').concat(e,'">').concat(e,'</div>\n      <div class="logo">').concat(l,"</div>\n    </div>\n    ")}}])&&V(t.prototype,n),l&&V(t,l),e}(),Q=wp.element,z=Q.Fragment,$=Q.useEffect,J=(wp.i18n.__,function(e){var t=e.clientId,n=e.attributes,l=e.setAttributes,a=n.audio,r=n.autoplay,o=n.borderRadius,i=n.controls,s=n.controlColor,c=n.bgColor,u=n.fusionDownload,p=n.hoverColor,m=n.muted,d=n.skin,y=n.title,f=n.poster,b=n.preload,v=n.repeat,w=n.seekTime,h=n.stampColor,g=n.width;console.log("autoplay",n);var E=new H,_=[];l({clientId:t}),$((function(){var e=document.querySelector("#block-".concat(t));Object.keys(i).map((function(e){1==i[e]&&_.push(e)})),jQuery("#block-".concat(t," .skin_").concat(d.toLowerCase())).html('\n    <div class="h5ap_standard_player">\n      <audio '.concat(m&&"muted"," ").concat(v&&"Default"===d&&"loop",' download="false" playsinline controls preload="').concat(b,'" class="">\n        <source src="').concat(a,'" type="audio/mp3"></source>\n    </div>\n      </audio>'));E.audioPlayer(e,{controls:_,skin:d.toLowerCase(),seekTime:w,poster:f,source:a,title:y,repeat:v,type:"opt-1",color:h,fusionDownload:u})}),[n]);var k=0==g.number?"100%":g.number+g.unit;return wp.element.createElement(z,null,wp.element.createElement("style",null,"#block-".concat(t," .plyr__controls{ background: ").concat(c,";}#block-").concat(t," .plyr__controls button:not(:hover):not(:active):not(.has-background),#block-").concat(t," .plyr__controls a.plyr__controls__item {color:").concat(s,";}#block-").concat(t," .plyr__controls button:hover {background: ").concat(p,"}#block-").concat(t," .plyr__controls .plyr__time{color:").concat(s,"}#block-").concat(t," .plyr--full-ui input[type=range]{color:").concat(p,"} #block-").concat(t," .h5ap_standard_player{ width:").concat(k,";border-radius:").concat(o.number+o.unit,";overflow:hidden;margin:0 auto;}")),wp.element.createElement(W,{props:e}),wp.element.createElement("div",{class:"skin_".concat(d.toLowerCase())},wp.element.createElement("div",{className:"h5ap_standard_player"},wp.element.createElement("audio",{download:"false",playsinline:!0,controls:!0,preload:"",autoplay:r},wp.element.createElement("source",{src:a,type:"audio/mp3"})))))}),q=(wp.element.Fragment,function(e){var t=e.attributes,n=t.audio,l=t.autoplay,a=t.borderRadius,r=t.controls,o=t.clientId,i=t.controlColor,s=t.bgColor,c=t.fusionDownload,u=t.hoverColor,p=t.muted,m=t.skin,d=t.title,y=t.poster,f=t.preload,b=t.repeat,v=t.seekTime,w=t.stampColor,h=t.width,g=[];Object.keys(r).map((function(e){1==r[e]&&g.push(e)}));var E={controls:g,skin:m.toLowerCase(),seekTime:v,poster:y,source:n,title:d,repeat:b,type:"opt-1",color:w,fusionDownload:c},_=0==h.number?"100%":h.number+h.unit,k="Default"===m&&b&&!0;return wp.element.createElement("div",{id:"block-".concat(o)},wp.element.createElement("style",null,"#block-".concat(o," .plyr__controls{ background: ").concat(s,";}#block-").concat(o," .plyr__controls button:not(:hover):not(:active):not(.has-background),#block-").concat(o," .plyr__controls a.plyr__controls__item {color:").concat(i,";}#block-").concat(o," .plyr__controls button:hover {background: ").concat(u,"}#block-").concat(o," .plyr__controls .plyr__time{color:").concat(i,"}#block-").concat(o," .plyr--full-ui input[type=range]{color:").concat(u,"} #block-").concat(o," .h5ap_standard_player{ width:").concat(_,";border-radius:").concat(a.number+a.unit,";overflow:hidden;margin:0 auto;}")),wp.element.createElement("div",{className:"skin_".concat(m.toLowerCase())},wp.element.createElement("div",{className:"h5ap_standard_player","data-options":JSON.stringify(E)},wp.element.createElement("audio",{download:"false",muted:p,loop:k,playsinline:!0,controls:!0,preload:f,autoplay:l},wp.element.createElement("source",{src:"".concat(n),type:"audio/mp3"})))))}),G=wp.i18n.__;(0,wp.blocks.registerBlockType)("h5ap/audioplayer",{title:G("HTML5 Audio Player","h5ap"),icon:"format-audio",category:"media",keywords:[G("HTML5 Audio Player","h5ap"),G("Audio Player","h5ap"),G("Media Player")],attributes:a,getEditWrapperProps:function(){},edit:J,save:q,example:{attributes:{preview:!0}}});var Y={clientId:{type:"string",default:""},theme:{type:"string",default:"light"},audios:{type:"array",default:[{audio:"",title:"title",artist:"artist"}]},width:{type:"object",default:{number:100,unit:"%"}}};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var ne=wp.i18n.__,le=wp.data,ae=(le.withDispatch,le.withSelect,wp.compose.compose,wp.element.Fragment),re=wp.components,oe=re.TabPanel,ie=re.Panel,se=re.PanelBody,ce=re.PanelRow,ue=re.Button,pe=(re.IconButton,re.ButtonGroup),me=(re.SelectControl,re.__experimentalNumberControl,re.TextControl),de=(re.RangeControl,re.FormToggle,re.Toolbar,re.FormFileUpload,re.RadioControl,re.ToolbarGroup,re.__experimentalInputControl,wp.blockEditor),ye=de.InspectorControls,fe=de.MediaUpload,be=de.MediaUploadCheck,ve=function(e){var t=e.props,n=t.attributes,l=t.setAttributes,a=(e.device,e.setDevice,e.selected),r=void 0===a?0:a,o=n.width,i=n.audios,s=void 0===i?[{title:"title",artist:"artist",audio:"",poster:" "}]:i,c=n.skin,u=n.theme;if(void 0===s[r])return!1;var p=s[r],m=p.artist,d=p.audio,y=void 0===d?"":d,f=p.title,b=p.poster,v=function(e,t){var n=ee(s);n[r]=X(X({},n[r]),{},Z({},e,t)),l({audios:n})};return wp.element.createElement(ae,null,wp.element.createElement(ye,{style:{marginBottom:"40px"}},wp.element.createElement(oe,{className:"bPSS",activeClass:"active-tab",tabs:[{name:"content",title:"Content",className:"general btTab"},{name:"settings",title:"Settings",className:"style btTab"}]},(function(e){return wp.element.createElement("span",null,"content"===e.name&&wp.element.createElement("span",null,wp.element.createElement(ie,null,wp.element.createElement(se,null,wp.element.createElement(ce,null,wp.element.createElement("label",{className:"label"},ne("Upload Audio File","h5ap")),wp.element.createElement(be,null,wp.element.createElement(fe,{allowedTypes:["audio"],onSelect:function(e){return v("audio",e.url)},render:function(e){var t=e.open;return wp.element.createElement(ue,{className:"button button-primary",onClick:t},ne("Upload","h5ap"))}}))),wp.element.createElement(ce,null,wp.element.createElement(me,{style:{minWidth:230},value:y,onChange:function(e){return v("audio",e)}})),"extensive"===c&&wp.element.createElement(ae,null,wp.element.createElement(ce,null,wp.element.createElement("label",{className:"label"},ne("Upload Audio Poster","h5ap")),wp.element.createElement(be,null,wp.element.createElement(fe,{className:"",allowedTypes:["image/jpeg"],onSelect:function(e){return v("poster",e.url)},render:function(e){var t=e.open;return wp.element.createElement(ue,{className:"button button-primary",onClick:t},ne("Upload","h5ap"))}}))),wp.element.createElement(ce,null,wp.element.createElement(me,{style:{minWidth:230},value:b,onChange:function(e){return v("poster",e)}}))),wp.element.createElement(ce,null,wp.element.createElement(me,{style:{minWidth:230},value:f,onChange:function(e){return v("title",e)}})),wp.element.createElement(ce,null,wp.element.createElement(me,{style:{minWidth:230},value:m,onChange:function(e){return v("artist",e)}}))))),"settings"==e.name&&wp.element.createElement("span",null,wp.element.createElement(ie,null,wp.element.createElement(se,null,wp.element.createElement(ce,null,wp.element.createElement("lable",{className:"label"},ne("Theme","h5ap")),wp.element.createElement(pe,null,wp.element.createElement(ue,{bisactive:"light"===u&&"true",onClick:function(){return l({theme:"light"})}},ne("Light","h5ap")),wp.element.createElement(ue,{bisactive:"dark"===u&&"true",onClick:function(){return l({theme:"dark"})}},ne("Dark","h5ap")))),wp.element.createElement(ce,null),wp.element.createElement(g,{enable:{eDevice:!1},label:ne("Width","h5ap"),value:o.number,unit:o.unit,max:1e3,onChange:function(e){return l({width:X(X({},o),{},{number:e})})},onChangeUnit:function(e){return l({width:{number:0,unit:e}})}})))))}))))};function we(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}var he=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,l;return t=e,(n=[{key:"audioPlylist",value:function(e){var t=this,n=jQuery,l=n(e).find(".h5ap_playlist ul li"),a=n(e).data("options"),r=l.length-1,o=0,i=a.initialVolume,s={};"undefined"!=typeof h5ap_i18n&&(s=h5ap_i18n);var c=new Plyr(n(e).find("audio"),{i18n:s});return this.setSource(c,0,null==l?void 0:l[0],l),c.volume=i/100,c.on("ended",(function(){o<r&&(t.setSource(c,o+1,l[o+1],l,!0,!1),o+=1)})),l.each((function(e){n(l[e]).on("click",(function(){e!==o?(o=e,t.setSource(c,e,l[e],l,!0)):t.setSource(c,e,l[e],l,!1,!0)}))})),n(e).find('.plyr__control[data-plyr="play"]').on("click",(function(){c.playing&&t.disableOtherPlayer(c)})),c}},{key:"gutenPlaylist",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,a=jQuery,r=a(e).find(".h5ap_playlist ul li"),o=a(e).data("options"),i=r.length-1,s=0,c=o.initialVolume,u={};"undefined"!=typeof h5ap_i18n&&(u=h5ap_i18n);var p=new Plyr(a(e).find("audio"),{i18n:u});return this.setSource(p,0,null==r?void 0:r[0],r),p.volume=c/100,p.on("ended",(function(){s<i&&(t.setSource(p,s+1,r[s+1],r,n,!1),s+=1)})),a(e).on("click","ul li",(function(){var e=a(this).attr("index");e!==s?(s=e,l.setSource(p,e,this,r,n)):l.setSource(p,e,this,r,!1,!0)})),a(e).find('.plyr__control[data-plyr="play"]').on("click",(function(){p.playing&&t.disableOtherPlayer(p)})),p}},{key:"setSource",value:function(e,t,n,l){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=jQuery;l.each((function(){s(this).removeClass("active")})),s(n).addClass("active");var c=s(n).attr("data-song");if(""===c&&(c=s(n).data("song")),""===c)return!1;r?e.playing?this.disableOtherPlayer(e,!1):this.disableOtherPlayer(e,!0):(e.source={title:"title",type:"audio",sources:[{src:c,type:"audio/ogg"}]},s(".main-controls .dashicons-randomize").attr("active",o),s(".main-controls .dashicons-controls-repeat").attr("active",i),a&&this.disableOtherPlayer(e))}},{key:"disableOtherPlayer",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=jQuery,l=n("audio");l.each((function(){n(this)[0].pause()})),t?null==e||e.play():null==e||e.pause()}},{key:"bluePlaylist",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this,a='<div class="plyr__controls controls">\n    <img class="poster" src="https://521dimensions.com/img/open-source/amplitudejs/album-art/we-are-to-answer.jpg" alt="">\n    <div class="plyr_controls">\n        <div class="progressbar plyr__controls">\n            <div class="plyr__time plyr__time--current" aria-label="Current time">00:00</div>\n            <div class="plyr__progress">\n                <input data-plyr="seek" type="range" min="0" max="100" step="0.01" value="0" aria-label="Seek">\n                <progress class="plyr__progress__buffer" min="0" max="100" value="0">% buffered</progress>\n                <span role="tooltip" class="plyr__tooltip">00:00</span>\n            </div>\n            <div class="plyr__time plyr__time--duration" aria-label="Duration">00:00</div>\n        </div>\n        <div class="main-controls plyr__controls">\n            <div class="repeat-shuffle ">\n                <span class="dashicons dashicons-randomize" active="true"></span>\n                <span class="dashicons dashicons-controls-repeat" active="false"></span>\n            </div>\n            <div class="re-ply-fast">\n                <button type="button" class="plyr__control" data-plyr="rewind">\n                    <svg role="presentation"><use xlink:href="#plyr-rewind"></use></svg>\n                    <span class="plyr__tooltip" role="tooltip">Rewind {seektime} secs</span>\n                </button>\n                <button type="button" class="plyr__control" aria-label="Play, {title}" data-plyr="play">\n                    <svg class="icon--pressed" role="presentation"><use xlink:href="#plyr-pause"></use></svg>\n                    <svg class="icon--not-pressed" role="presentation"><use xlink:href="#plyr-play"></use></svg>\n                    <span class="label--pressed plyr__tooltip" role="tooltip">Pause</span>\n                    <span class="label--not-pressed plyr__tooltip" role="tooltip">Play</span>\n                </button>\n                <button type="button" class="plyr__control" data-plyr="fast-forward">\n                    <svg role="presentation"><use xlink:href="#plyr-fast-forward"></use></svg>\n                    <span class="plyr__tooltip" role="tooltip">Forward {seektime} secs</span>\n                </button>\n            </div>\n            <div class="volume">\n                <button type="button" class="plyr__control" aria-label="Mute" data-plyr="mute">\n                    <svg class="icon--pressed" role="presentation"><use xlink:href="#plyr-muted"></use></svg>\n                    <svg class="icon--not-pressed" role="presentation"><use xlink:href="#plyr-volume"></use></svg>\n                    <span class="label--pressed plyr__tooltip" role="tooltip">Unmute</span>\n                    <span class="label--not-pressed plyr__tooltip" role="tooltip">Mute</span>\n                </button>\n                <div class="plyr__volume">\n                    <input data-plyr="volume" type="range" min="0" max="1" step="0.05" value="1" autocomplete="off" aria-label="Volume">\n                </div>\n            </div>\n        </div>\n    </div></div>',r=jQuery,o=r(e).find(".right .hsong-item"),i=r(e).data("options"),s=o.length-1,c=0,u=i.initialVolume;o.map((function(e,n){var l=r(n).data("song"),a=document.createElement("audio");a.src=l,a.addEventListener("loadedmetadata",(function(){r(n).find(".time").text(t.toHHMMSS(a.duration))}))}));var p={};"undefined"!=typeof h5ap_i18n&&(p=h5ap_i18n);var m=new Plyr(r(e).find("audio"),{controls:a,i18n:p});m.volume=u/100,this.setSource(m,0,null==o?void 0:o[0],o),this.setMetaData(e,r(e).find(".right .hsong-item")[0]),r(document).on("click",".main-controls .dashicons",(function(){r(this).attr("active","true"===r(this).attr("active")?"false":"true")})),m.on("ended",(function(){var n=r(e).find(".main-controls .dashicons-randomize").attr("active"),l=r(e).find(".main-controls .dashicons-controls-repeat").attr("active"),a=t.getRandomInt(s);c<s?"true"===n?(a==c&&(a=t.getRandomInt(s)),c=a,t.setSource(m,c+1,o[a],o,!0,!1,n,l),t.setMetaData(e,o[a])):(t.setSource(m,c+1,o[c+1],o,!0,!1,n,l),t.setMetaData(e,o[c+1]),c+=1):"true"===l&&(t.setSource(m,c+1,o[0],o,!0,!1,n,l),c=0,t.setMetaData(e,o[0]))})),!0===n?r(e).on("click",".hsong-item",(function(){var t=r(e).find(".main-controls .dashicons-randomize").attr("active"),n=r(e).find(".main-controls .dashicons-controls-repeat").attr("active"),a=r(this).attr("index");a!==c?(c=a,l.setSource(m,a,this,o,!1,!1,t,n)):l.setSource(m,a,this,o,!1,!0),l.setMetaData(e,this)})):o.each((function(n,l){r(o[n]).on("click",(function(){var a=r(e).find(".main-controls .dashicons-randomize").attr("active"),i=r(e).find(".main-controls .dashicons-controls-repeat").attr("active");n!==c?(c=n,t.setSource(m,n,o[n],o,!0,!1,a,i)):t.setSource(m,n,o[n],o,!1,!0),t.setMetaData(e,l)}))})),r(e).find('.plyr__control[data-plyr="play"]').on("click",(function(){m.playing&&t.disableOtherPlayer(m)}))}},{key:"setMetaData",value:function(e,t){var n=jQuery,l=n(t).find("h3.title").text(),a=n(t).find("span.singer").text(),r=n(t).attr("data-poster");n(e).find(".poster").attr("src",r),n(e).find(".left .plyr__meta h2.title").text(l),n(e).find(".left .plyr__meta h3.artist").text(a)}},{key:"toHHMMSS",value:function(e){var t=parseInt(e,10),n=Math.floor(t/3600),l=Math.floor((t-3600*n)/60),a=t-3600*n-60*l;return n<10&&(n="0"+n),l<10&&(l="0"+l),a<10&&(a="0"+a),l+":"+a}},{key:"getRandomInt",value:function(e){return Math.floor(Math.random()*e)}}])&&we(t.prototype,n),l&&we(t,l),e}();function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e){return function(e){if(Array.isArray(e))return Se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var l,a,r=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(l=n.next()).done)&&(r.push(l.value),!t||r.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return r}(e,t)||Pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){if(e){if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var Oe=wp.element,je=Oe.Fragment,xe=Oe.useEffect,Ae=Oe.useState,Te=wp.i18n.__,Ne=wp.blockEditor,De=Ne.MediaUpload,Ie=Ne.MediaUploadCheck,Me=wp.components.Button,Ue=function(e){var t=e.clientId,n=e.attributes,l=e.isSelected,a=e.setAttributes,r=n.width,o=n.audios,i=(n.skin,n.theme),s=new he;a({clientId:t});var c=Ce(Ae(0),2),u=c[0],p=c[1];xe((function(){var e=document.querySelector("#block-".concat(t," .audioPlalist"));s.gutenPlaylist(e,!1)}),[]);var m=0==r.number?"100%":r.number+r.unit;return wp.element.createElement(je,null,wp.element.createElement(ve,{props:e,selected:u}),wp.element.createElement("style",null,"#block-".concat(t," .audioPlalist {width: ").concat(m,";max-width: 100%; margin: 0 auto }")),wp.element.createElement("div",null,wp.element.createElement("div",{class:"audioPlalist theme-".concat(i),"data-options":JSON.stringify({initialVolume:50})},wp.element.createElement("div",{className:"audioTag"},wp.element.createElement("audio",{controls:!0},wp.element.createElement("source",{src:"",type:"audio/mp3"}))),wp.element.createElement("div",{class:"h5ap_playlist"},wp.element.createElement("ul",null,o.map((function(e,t){var n=e.audio,l=e.title,a=e.artist;return wp.element.createElement("li",{onClick:function(){return p(t)},"data-song":n,index:t,className:u===t&&"active"},wp.element.createElement("span",{class:"title"},l),a&&wp.element.createElement("span",{class:"artist"}," by ",a),wp.element.createElement("a",{class:"download",download:"true",href:""},wp.element.createElement("svg",{class:"icon--pressed",role:"presentation"},wp.element.createElement("use",{href:"#plyr-download"}))))}))))),l&&wp.element.createElement("div",{className:"audioPlaylsitEditor"},wp.element.createElement(Me,{onClick:function(){var e=ke(o);e.push({title:"title",artist:"artist",audio:""}),a({audios:e})}},Te("Add New","h5ap")),wp.element.createElement(Me,{onClick:function(){var e=ke(o);e=e.filter((function(e,t){return t!=u})),a({audios:e})}},Te("Remove Item","h5ap")),wp.element.createElement(Ie,null,wp.element.createElement(De,{className:"",allowedTypes:["audio/mpeg"],onSelect:function(e){var t=ke(o);t[u]=Ee(Ee({},t[u]),{},{audio:e.url}),a({audios:t})},render:function(e){var t=e.open;return wp.element.createElement(Me,{onClick:t},Te("Upload Audio","h5ap"))}})))))},Be=function(e){var t=e.attributes,n=t.audios,l=t.clientId,a=t.theme,r=t.width,o=0==r.number?"100%":r.number+r.unit;return wp.element.createElement("div",{id:"block-".concat(l)},wp.element.createElement("style",null,"#block-".concat(l," .audioPlalist {width: ").concat(o,";max-width: 100%; margin: 0 auto }")),wp.element.createElement("div",{class:"audioPlalist theme-".concat(a),"data-options":JSON.stringify({initialVolume:50})},wp.element.createElement("div",{className:"audioTag"},wp.element.createElement("audio",{controls:!0},wp.element.createElement("source",{src:"",type:"audio/mp3"}))),wp.element.createElement("div",{class:"h5ap_playlist"},wp.element.createElement("ul",null,n.map((function(e,t){var n=e.audio,l=e.title,a=e.artist;return""!==n&&wp.element.createElement("li",{"data-song":n,index:t},wp.element.createElement("span",{class:"title"},l),a&&wp.element.createElement("span",{class:"artist"}," by ",a),wp.element.createElement("a",{class:"download",download:"true",href:""},wp.element.createElement("svg",{class:"icon--pressed",role:"presentation"},wp.element.createElement("use",{href:"#plyr-download"}))))}))))))},Fe=wp.i18n.__;(0,wp.blocks.registerBlockType)("h5ap/audioplaylist",{title:Fe("HTML5 Audio Playlist Narrow","h5ap"),icon:"playlist-audio",category:"media",keywords:[Fe("HTML5 Audio Player","h5ap"),Fe("Audio Playlist","h5ap")],attributes:Y,getEditWrapperProps:function(){},edit:Ue,save:Be,example:{attributes:{preview:!0}}});var Re={clientId:{type:"string",default:""},theme:{type:"string",default:"light"},audios:{type:"array",default:[{audio:"",title:"title",poster:n,artist:"artist"}]},width:{type:"object",default:{number:100,unit:"%"}},height:{type:"object",default:{number:500,unit:"px"}}};function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e){return function(e){if(Array.isArray(e))return Qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var ze=wp.i18n.__,$e=wp.element.Fragment,Je=wp.components,qe=Je.TabPanel,Ge=Je.Panel,Ye=Je.PanelBody,Ke=Je.PanelRow,Xe=Je.Button,Ze=Je.ButtonGroup,et=Je.TextControl,tt=wp.blockEditor,nt=tt.InspectorControls,lt=tt.MediaUpload,at=tt.MediaUploadCheck,rt=function(e){var t=e.props,n=t.attributes,l=t.setAttributes,a=e.selected,r=void 0===a?0:a,o=n.width,i=n.audios,s=void 0===i?[{title:"title",artist:"artist",audio:"",poster:""}]:i,c=n.theme,u=n.height;if(void 0===s[r])return!1;var p=s[r],m=p.artist,d=p.audio,y=void 0===d?"":d,f=p.title,b=p.poster,v=function(e,t){var n=He(s);n[r]=Le(Le({},n[r]),{},Ve({},e,t)),l({audios:n})};return wp.element.createElement($e,null,wp.element.createElement(nt,{style:{marginBottom:"40px"}},wp.element.createElement(qe,{className:"bPSS",activeClass:"active-tab",tabs:[{name:"content",title:"Content",className:"general btTab"},{name:"settings",title:"Settings",className:"style btTab"}]},(function(e){return wp.element.createElement("span",null,"content"===e.name&&wp.element.createElement("span",null,wp.element.createElement(Ge,null,wp.element.createElement(Ye,null,wp.element.createElement(Ke,null,wp.element.createElement("label",{className:"label"},ze("Upload Audio File","h5ap")),wp.element.createElement(at,null,wp.element.createElement(lt,{allowedTypes:["audio"],onSelect:function(e){return v("audio",e.url)},render:function(e){var t=e.open;return wp.element.createElement(Xe,{className:"button button-primary",onClick:t},ze("Upload","h5ap"))}}))),wp.element.createElement(Ke,null,wp.element.createElement(et,{style:{minWidth:230},value:y,onChange:function(e){return v("audio",e)}})),wp.element.createElement(Ke,null,wp.element.createElement("label",{className:"label"},ze("Upload Audio Poster","h5ap")),wp.element.createElement(at,null,wp.element.createElement(lt,{allowedTypes:["image"],onSelect:function(e){return v("poster",e.url)},render:function(e){var t=e.open;return wp.element.createElement(Xe,{className:"button button-primary",onClick:t},ze("Upload","h5ap"))}}))),wp.element.createElement(Ke,null,wp.element.createElement(et,{style:{minWidth:230},value:b,onChange:function(e){return v("poster",e)}})),wp.element.createElement(Ke,null,wp.element.createElement(et,{style:{minWidth:230},value:f,onChange:function(e){return v("title",e)}})),wp.element.createElement(Ke,null,wp.element.createElement(et,{style:{minWidth:230},value:m,onChange:function(e){return v("artist",e)}}))))),"settings"==e.name&&wp.element.createElement("span",null,wp.element.createElement(Ge,null,wp.element.createElement(Ye,null,wp.element.createElement(Ke,null,wp.element.createElement("lable",{className:"label"},ze("Theme","h5ap")),wp.element.createElement(Ze,null,wp.element.createElement(Xe,{bisactive:"light"===c&&"true",onClick:function(){return l({theme:"light"})}},ze("Light","h5ap")),wp.element.createElement(Xe,{bisactive:"dark"===c&&"true",onClick:function(){return l({theme:"dark"})}},ze("Dark","h5ap")))),wp.element.createElement(Ke,null),wp.element.createElement(g,{enable:{eDevice:!1},label:ze("Width","h5ap"),value:o.number,unit:o.unit,max:1e3,placeholder:ze("Title","h5ap"),onChange:function(e){return l({width:Le(Le({},o),{},{number:e})})},onChangeUnit:function(e){return l({width:{number:0,unit:e}})}}),wp.element.createElement(g,{enable:{eDevice:!1},label:ze("Height","h5ap"),value:u.number,unit:u.unit,units:["px","rem"],max:1e3,placeholder:ze("Artist","h5ap"),onChange:function(e){return l({height:Le(Le({},u),{},{number:e})})},onChangeUnit:function(e){return l({height:{number:0,unit:e}})}})))))}))))};function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){st(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e){return function(e){if(Array.isArray(e))return mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var l,a,r=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(l=n.next()).done)&&(r.push(l.value),!t||r.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return r}(e,t)||pt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){if(e){if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mt(e,t):void 0}}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var dt=wp.element,yt=dt.Fragment,ft=dt.useEffect,bt=dt.useState,vt=wp.i18n.__,wt=wp.blockEditor,ht=wt.MediaUpload,gt=wt.MediaUploadCheck,Et=wp.components.Button,_t=function(e){var t=e.clientId,l=e.attributes,a=e.isSelected,r=e.setAttributes,o=l.width,i=l.audios,s=l.height,c=l.theme,u=new he;r({clientId:t});var p=ut(bt(0),2),m=p[0],d=p[1];ft((function(){var e=document.querySelector("#block-".concat(t," .hextensive"));u.bluePlaylist(e,!0)}),[]);var y=0==o.number?"100%":o.number+o.unit,f=0==s.number?"550px":s.number+s.unit;return wp.element.createElement(yt,null,wp.element.createElement(rt,{props:e,selected:m}),wp.element.createElement("div",{id:"block-".concat(t)},wp.element.createElement("style",null,"#block-".concat(t," .hextensive {width: ").concat(y,";height: ").concat(f,";max-width: 100%; margin: 0 auto }")),wp.element.createElement("div",{class:"hextensive hextensive-".concat(c),"data-options":JSON.stringify({initialVolume:50})},wp.element.createElement("div",{class:"left"},wp.element.createElement("div",{className:"audioTag"},wp.element.createElement("audio",{download:"false",controls:!0})),wp.element.createElement("div",{class:"plyr__meta"},wp.element.createElement("h2",{class:"title"}),wp.element.createElement("h3",{class:"artist"}))),wp.element.createElement("div",{class:"right"},i.map((function(e,t){var n=e.audio,l=e.title,a=e.artist,r=e.poster;return wp.element.createElement("div",{class:"hsong-item plyr__controlss",index:t,className:"hsong-item plyr__controlss".concat(m===t&&" active"),"data-poster":r,"data-song":n,onClick:function(){return d(t)}},wp.element.createElement("span",{class:"ply_icon"},wp.element.createElement("button",{type:"button",class:"plyr__control","aria-label":"Play, {title}","data-plyr":"play"},wp.element.createElement("svg",{class:"icon--pressed",role:"presentation"},wp.element.createElement("use",{href:"#plyr-pause"})),wp.element.createElement("svg",{class:"icon--not-pressed",role:"presentation"},wp.element.createElement("use",{href:"#plyr-play"})))),wp.element.createElement("div",{class:"meta-data"},wp.element.createElement("h3",{class:"title"},l),wp.element.createElement("span",{class:"singer"},a)),wp.element.createElement("span",{class:"time"},"00:00"))})))),a&&wp.element.createElement("div",{className:"audioPlaylsitEditor"},wp.element.createElement(Et,{onClick:function(){var e=ct(i),t={title:"title",artist:"artist",audio:"",poster:n};e.push(t),r({audios:e})}},vt("Add New","h5ap")),wp.element.createElement(Et,{onClick:function(){var e=ct(i);e=e.filter((function(e,t){return t!=m})),r({audios:e})}},vt("Remove Item","h5ap")),wp.element.createElement(gt,null,wp.element.createElement(ht,{className:"",allowedTypes:["audio/mpeg"],onSelect:function(e){var t=ct(i);t[m]=it(it({},t[m]),{},{audio:e.url}),r({audios:t})},render:function(e){var t=e.open;return wp.element.createElement(Et,{onClick:t},vt("Upload Audio","h5ap"))}})))))},kt=function(e){var t=e.attributes,n=t.clientId,l=t.audios,a=t.height,r=t.theme,o=t.width,i=0==o.number?"100%":o.number+o.unit,s=0==a.number?"550px":a.number+a.unit;return wp.element.createElement("div",{id:"block-".concat(n)},wp.element.createElement("style",null,"#block-".concat(n," .hextensive {width: ").concat(i,";height: ").concat(s,";max-width: 100%; margin: 0 auto }")),wp.element.createElement("div",{class:"hextensive hextensive-".concat(r),"data-options":JSON.stringify({initialVolume:50})},wp.element.createElement("div",{class:"left"},wp.element.createElement("div",{className:"audioTag"},wp.element.createElement("audio",{download:"false",controls:!0})),wp.element.createElement("div",{class:"plyr__meta"},wp.element.createElement("h2",{class:"title"}),wp.element.createElement("h3",{class:"artist"}))),wp.element.createElement("div",{class:"right"},l.map((function(e,t){var n=e.audio,l=e.title,a=e.artist,r=e.poster;return""!==n&&wp.element.createElement("div",{class:"hsong-item plyr__controlss",index:t,"data-poster":r,"data-song":n},wp.element.createElement("span",{class:"ply_icon"},wp.element.createElement("button",{type:"button",class:"plyr__control","aria-label":"Play, {title}","data-plyr":"play"},wp.element.createElement("svg",{class:"icon--pressed",role:"presentation"},wp.element.createElement("use",{href:"#plyr-pause"})),wp.element.createElement("svg",{class:"icon--not-pressed",role:"presentation"},wp.element.createElement("use",{href:"#plyr-play"})))),wp.element.createElement("div",{class:"meta-data"},wp.element.createElement("h3",{class:"title"},l),wp.element.createElement("span",{class:"singer"},a)),wp.element.createElement("span",{class:"time"},"00:00"))})))))},Ct=wp.i18n.__;(0,wp.blocks.registerBlockType)("h5ap/playlist-extensive",{title:Ct("HTML5 Audio Playlist Extensive","h5ap"),icon:"playlist-audio",category:"media",keywords:[Ct("Audio Player","h5ap"),Ct("Audio Playlist","h5ap"),Ct("media playlist","h5ap")],attributes:Re,getEditWrapperProps:function(){},edit:_t,save:kt,example:{attributes:{preview:!0}}})}();
//# sourceMappingURL=editor.js.map